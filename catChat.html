<head>
  <title>CatChat</title>
  <link rel="shortcut icon" type="image/x-icon" href="black_cat.png" />
  <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>
</head>

<body>
  {{> chatRoom}}
  <footer>
    <div>Created by <a href="http://sweeneysam.com">Sam Sweeney</a></div>
    <div>View source code <a href="http://www.github.com/shubik22/catchat">here</a></div>
  </footer>
</body>

<template name="chatRoom">
  <header>
    {{#if changeName}}
      <form id="username">
        <input type="text" id="username" value="{{oldUsername}}">
        <input type="submit" id="submit-username" value="Set name">
      </form>
    {{else}}
        <div class="logged-in">Chatting as {{username}}</div>
        <div class="reset-username">Change Name</div>
    {{/if}}
  </header>
  <div class="site-title group">
    <img src="black_cat.png" class="logo" alt="cat">
    <h1>CatChat</h1>
  </div>
  <h2 id="slogan">
    <a href="http://en.wikipedia.org/wiki/On_the_Internet,_nobody_knows_you're_a_dog">
    On the internet, nobody knows you're a cat
  </a>
  </h2>
  <section class="chat-content group">
    <div class="users-list">
      <h2>Chatting Cats</h2>
      <ul>
        {{#each users}}
          {{> user}}
        {{/each}}
      </ul>
    </div>
    <div class="chat-room">
      <ul id="chats">
        {{#each chats}}
          {{> chat}}
        {{/each}}
      </ul>
      {{> newMessage}}
    </div>
  </section>
</template>

<template name="user">
  <li class="user {{selected}}">
    <img src="{{catIcon}}" class="status-icon">
    <span class="username">{{username}}</span>
  </li>
</template>

<template name="chat">
  <li class="chat group">
    <div class="username">{{username}}:</div>
    <div class="message">{{message}}</div>
  </li>
</template>

<template name="newMessage">
  <form class="new-message group">
    <input type="text" id="message">
    <input type="submit" id="submit-message" value="Meow!">
  </form>
</template>